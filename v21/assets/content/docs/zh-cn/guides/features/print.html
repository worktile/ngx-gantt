
        <h1 id="%E5%AF%BC%E5%87%BA%E6%89%93%E5%8D%B0" class="docs-header-link">
          <span header-link="%E5%AF%BC%E5%87%BA%E6%89%93%E5%8D%B0"></span>
          导出打印
        </h1>
      <p>ngx-gantt 支持将甘特图导出为 PNG 图片，方便用于报告、分享和存档。</p>

        <h2 id="ganttprintservice" class="docs-header-link">
          <span header-link="ganttprintservice"></span>
          GanttPrintService
        </h2>
      <div class="dg-paragraph"><code>GanttPrintService</code> 是导出打印的核心服务，使用 <code>html2canvas</code> 库将甘特图转换为图片。</div>

        <h3 id="%E6%B3%A8%E5%85%A5%E6%9C%8D%E5%8A%A1" class="docs-header-link">
          <span header-link="%E6%B3%A8%E5%85%A5%E6%9C%8D%E5%8A%A1"></span>
          注入服务
        </h3>
      <pre class="language-typescript"><code class="language-typescript"><div><span class="token keyword">import</span> <span class="token punctuation">{</span> GanttPrintService <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@worktile/gantt'</span><span class="token punctuation">;</span>

@<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  selector<span class="token punctuation">:</span> <span class="token string">'app-gantt-print'</span><span class="token punctuation">,</span>
  providers<span class="token punctuation">:</span> <span class="token punctuation">[</span>GanttPrintService<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">GanttPrintComponent</span> <span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> printService<span class="token punctuation">:</span> GanttPrintService<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span></div></code></pre>

        <h2 id="%E5%AF%BC%E5%87%BA%E4%B8%BA%E5%9B%BE%E7%89%87" class="docs-header-link">
          <span header-link="%E5%AF%BC%E5%87%BA%E4%B8%BA%E5%9B%BE%E7%89%87"></span>
          导出为图片
        </h2>
      
        <h3 id="%E5%9F%BA%E7%A1%80%E5%AF%BC%E5%87%BA" class="docs-header-link">
          <span header-link="%E5%9F%BA%E7%A1%80%E5%AF%BC%E5%87%BA"></span>
          基础导出
        </h3>
      <pre class="language-typescript"><code class="language-typescript"><div>@<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  template<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`
    &lt;ngx-gantt #gantt [items]="items">
      &lt;!-- ... -->
    &lt;/ngx-gantt>
    &lt;button (click)="exportImage()">导出为 PNG&lt;/button>
  `</span></span><span class="token punctuation">,</span>
  providers<span class="token punctuation">:</span> <span class="token punctuation">[</span>GanttPrintService<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">GanttPrintComponent</span> <span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> printService<span class="token punctuation">:</span> GanttPrintService<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

  <span class="token function">exportImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// 导出为 PNG，文件名为 'gantt-chart.png'</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>printService<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'gantt-chart'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></div></code></pre>

        <h3 id="%E5%BF%BD%E7%95%A5%E7%89%B9%E5%AE%9A%E5%85%83%E7%B4%A0" class="docs-header-link">
          <span header-link="%E5%BF%BD%E7%95%A5%E7%89%B9%E5%AE%9A%E5%85%83%E7%B4%A0"></span>
          忽略特定元素
        </h3>
      <p>在导出时可以忽略某些元素（如工具栏、操作按钮等）：</p>
<pre class="language-typescript"><code class="language-typescript"><div><span class="token function">exportImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// 忽略 class 为 'toolbar' 的元素</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>printService<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'gantt-chart'</span><span class="token punctuation">,</span> <span class="token string">'toolbar'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></div></code></pre>

        <h2 id="%E8%8E%B7%E5%8F%96-canvas-%E5%AF%B9%E8%B1%A1" class="docs-header-link">
          <span header-link="%E8%8E%B7%E5%8F%96-canvas-%E5%AF%B9%E8%B1%A1"></span>
          获取 Canvas 对象
        </h2>
      <p>如果需要自定义处理导出的图片，可以使用 <code>html2canvas</code> 方法获取 Canvas 对象：</p>
<pre class="language-typescript"><code class="language-typescript"><div>async <span class="token function">exportToCanvas</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> canvas <span class="token operator">=</span> await <span class="token keyword">this</span><span class="token punctuation">.</span>printService<span class="token punctuation">.</span><span class="token function">html2canvas</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment" spellcheck="true">// 自定义处理</span>
  <span class="token keyword">const</span> dataUrl <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">toDataURL</span><span class="token punctuation">(</span><span class="token string">'image/png'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment" spellcheck="true">// 可以上传到服务器</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">uploadImage</span><span class="token punctuation">(</span>dataUrl<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment" spellcheck="true">// 或者显示预览</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">showPreview</span><span class="token punctuation">(</span>dataUrl<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></div></code></pre>

        <h3 id="%E8%87%AA%E5%AE%9A%E4%B9%89%E5%A4%84%E7%90%86%E7%A4%BA%E4%BE%8B" class="docs-header-link">
          <span header-link="%E8%87%AA%E5%AE%9A%E4%B9%89%E5%A4%84%E7%90%86%E7%A4%BA%E4%BE%8B"></span>
          自定义处理示例
        </h3>
      <pre class="language-typescript"><code class="language-typescript"><div>async <span class="token function">exportAndUpload</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> canvas <span class="token operator">=</span> await <span class="token keyword">this</span><span class="token punctuation">.</span>printService<span class="token punctuation">.</span><span class="token function">html2canvas</span><span class="token punctuation">(</span><span class="token string">'toolbar'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> blob <span class="token operator">=</span> await <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token operator">&lt;</span>Blob<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      canvas<span class="token punctuation">.</span><span class="token function">toBlob</span><span class="token punctuation">(</span><span class="token punctuation">(</span>blob<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">resolve</span><span class="token punctuation">(</span>blob<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'image/png'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">// 上传到服务器</span>
    <span class="token keyword">const</span> formData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    formData<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'image'</span><span class="token punctuation">,</span> blob<span class="token punctuation">,</span> <span class="token string">'gantt-chart.png'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>http<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/api/upload'</span><span class="token punctuation">,</span> formData<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      next<span class="token punctuation">:</span> <span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'上传成功'</span><span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      error<span class="token punctuation">:</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'上传失败'</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'导出失败'</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></div></code></pre>

        <h2 id="%E6%A0%B7%E5%BC%8F%E4%B8%A2%E5%A4%B1%E9%97%AE%E9%A2%98" class="docs-header-link">
          <span header-link="%E6%A0%B7%E5%BC%8F%E4%B8%A2%E5%A4%B1%E9%97%AE%E9%A2%98"></span>
          样式丢失问题
        </h2>
      
        <h3 id="%E9%97%AE%E9%A2%98%E5%8E%9F%E5%9B%A0" class="docs-header-link">
          <span header-link="%E9%97%AE%E9%A2%98%E5%8E%9F%E5%9B%A0"></span>
          问题原因
        </h3>
      <p>导出时可能出现样式丢失，常见原因：</p>
<ol>
<li>SVG 元素的样式未内联</li>
<li>外部样式表未加载</li>
<li>字体未加载完成</li>
</ol>

        <h3 id="%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88" class="docs-header-link">
          <span header-link="%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"></span>
          解决方案
        </h3>
      <div class="dg-paragraph"><code>GanttPrintService</code> 会自动处理 SVG 样式内联，但需要注意：</div>
<ol>
<li><strong>确保样式已加载</strong>：等待样式加载完成后再导出</li>
<li><strong>使用内联样式</strong>：对于关键样式，使用内联样式</li>
<li><strong>检查 SVG 元素</strong>：确保 SVG 元素的样式正确</li>
</ol>

        <h2 id="%E6%9C%80%E5%B0%8F%E7%A4%BA%E4%BE%8B" class="docs-header-link">
          <span header-link="%E6%9C%80%E5%B0%8F%E7%A4%BA%E4%BE%8B"></span>
          最小示例
        </h2>
      <pre class="language-typescript"><code class="language-typescript"><div><span class="token keyword">import</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> ViewChild<span class="token punctuation">,</span> AfterViewInit <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> GanttItem<span class="token punctuation">,</span> GanttViewType<span class="token punctuation">,</span> NgxGanttComponent<span class="token punctuation">,</span> GanttPrintService <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@worktile/gantt'</span><span class="token punctuation">;</span>

@<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  selector<span class="token punctuation">:</span> <span class="token string">'app-gantt-print'</span><span class="token punctuation">,</span>
  template<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`
    &lt;div class="toolbar">
      &lt;button (click)="exportImage()">导出为图片&lt;/button>
    &lt;/div>

    &lt;ngx-gantt #gantt [items]="items" [viewType]="viewType">
      &lt;ngx-gantt-table>
        &lt;ngx-gantt-column name="任务" width="200px">
          &lt;ng-template #cell let-item="item">
            {{ item.title }}
          &lt;/ng-template>
        &lt;/ngx-gantt-column>
      &lt;/ngx-gantt-table>
    &lt;/ngx-gantt>
  `</span></span><span class="token punctuation">,</span>
  providers<span class="token punctuation">:</span> <span class="token punctuation">[</span>GanttPrintService<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">GanttPrintComponent</span> <span class="token keyword">implements</span> <span class="token class-name">AfterViewInit</span> <span class="token punctuation">{</span>
  @<span class="token function">ViewChild</span><span class="token punctuation">(</span><span class="token string">'gantt'</span><span class="token punctuation">)</span> gantt<span class="token punctuation">:</span> NgxGanttComponent<span class="token punctuation">;</span>

  viewType <span class="token operator">=</span> GanttViewType<span class="token punctuation">.</span>day<span class="token punctuation">;</span>

  items<span class="token punctuation">:</span> GanttItem<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token string">'1'</span><span class="token punctuation">,</span> title<span class="token punctuation">:</span> <span class="token string">'任务 1'</span><span class="token punctuation">,</span> start<span class="token punctuation">:</span> <span class="token number">1627729997</span><span class="token punctuation">,</span> end<span class="token punctuation">:</span> <span class="token number">1628421197</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> printService<span class="token punctuation">:</span> GanttPrintService<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

  <span class="token function">ngAfterViewInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// 注册甘特图根元素</span>
    <span class="token keyword">const</span> ganttRoot <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>gantt<span class="token punctuation">.</span><span class="token function">ganttRoot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>ganttRoot<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>printService<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span>ganttRoot<span class="token punctuation">.</span>elementRef<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">exportImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// 忽略工具栏</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>printService<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'gantt-chart'</span><span class="token punctuation">,</span> <span class="token string">'toolbar'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></div></code></pre>

        <h2 id="%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5" class="docs-header-link">
          <span header-link="%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5"></span>
          最佳实践
        </h2>
      
        <h3 id="1--%E7%AD%89%E5%BE%85%E6%B8%B2%E6%9F%93%E5%AE%8C%E6%88%90" class="docs-header-link">
          <span header-link="1--%E7%AD%89%E5%BE%85%E6%B8%B2%E6%9F%93%E5%AE%8C%E6%88%90"></span>
          1. 等待渲染完成
        </h3>
      <pre class="language-typescript"><code class="language-typescript"><div>async <span class="token function">exportImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// 等待视图更新完成</span>
  await <span class="token keyword">this</span><span class="token punctuation">.</span>gantt<span class="token punctuation">.</span><span class="token function">changeView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment" spellcheck="true">// 等待一小段时间确保渲染完成</span>
  await <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span>resolve <span class="token operator">=</span><span class="token operator">></span> <span class="token function">setTimeout</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment" spellcheck="true">// 导出</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>printService<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'gantt-chart'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></div></code></pre>

        <h3 id="2--%E5%A4%84%E7%90%86%E5%A4%A7%E5%9B%BE%E5%AF%BC%E5%87%BA" class="docs-header-link">
          <span header-link="2--%E5%A4%84%E7%90%86%E5%A4%A7%E5%9B%BE%E5%AF%BC%E5%87%BA"></span>
          2. 处理大图导出
        </h3>
      <p>对于大型甘特图，导出可能需要较长时间：</p>
<pre class="language-typescript"><code class="language-typescript"><div>async <span class="token function">exportImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>loading <span class="token operator">=</span> <span class="token keyword">true</span><span class="token punctuation">;</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    await <span class="token keyword">this</span><span class="token punctuation">.</span>printService<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'gantt-chart'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>notify<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token string">'导出成功'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>notify<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'导出失败'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>loading <span class="token operator">=</span> <span class="token keyword">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></div></code></pre>

        <h3 id="3--%E4%BC%98%E5%8C%96%E5%AF%BC%E5%87%BA%E8%B4%A8%E9%87%8F" class="docs-header-link">
          <span header-link="3--%E4%BC%98%E5%8C%96%E5%AF%BC%E5%87%BA%E8%B4%A8%E9%87%8F"></span>
          3. 优化导出质量
        </h3>
      <pre class="language-typescript"><code class="language-typescript"><div><span class="token comment" spellcheck="true">// html2canvas 会自动处理，但可以调整视图以确保最佳效果</span>
<span class="token function">exportImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// 确保视图已完全加载</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>gantt<span class="token punctuation">.</span><span class="token function">rerenderView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment" spellcheck="true">// 导出</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>printService<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'gantt-chart'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></div></code></pre>

        <h2 id="%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98" class="docs-header-link">
          <span header-link="%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98"></span>
          常见问题
        </h2>
      
        <h3 id="q:-%E5%AF%BC%E5%87%BA%E5%A4%B1%E8%B4%A5%E6%88%96%E5%9B%BE%E7%89%87%E7%A9%BA%E7%99%BD%EF%BC%9F" class="docs-header-link">
          <span header-link="q:-%E5%AF%BC%E5%87%BA%E5%A4%B1%E8%B4%A5%E6%88%96%E5%9B%BE%E7%89%87%E7%A9%BA%E7%99%BD%EF%BC%9F"></span>
          Q: 导出失败或图片空白？
        </h3>
      <div class="dg-paragraph"><strong>A:</strong> 检查：</div>
<ol>
<li>是否已调用 <code>register</code> 方法注册根元素</li>
<li>甘特图是否已完全渲染</li>
<li>浏览器控制台是否有错误信息</li>
</ol>

        <h3 id="q:-%E5%AF%BC%E5%87%BA%E7%9A%84%E5%9B%BE%E7%89%87%E6%A0%B7%E5%BC%8F%E4%B8%8D%E6%AD%A3%E7%A1%AE%EF%BC%9F" class="docs-header-link">
          <span header-link="q:-%E5%AF%BC%E5%87%BA%E7%9A%84%E5%9B%BE%E7%89%87%E6%A0%B7%E5%BC%8F%E4%B8%8D%E6%AD%A3%E7%A1%AE%EF%BC%9F"></span>
          Q: 导出的图片样式不正确？
        </h3>
      <div class="dg-paragraph"><strong>A:</strong></div>
<ol>
<li>确保样式已加载完成</li>
<li>检查 SVG 元素的样式是否正确</li>
<li>使用内联样式替代外部样式表</li>
</ol>

        <h3 id="q:-%E5%A6%82%E4%BD%95%E5%AF%BC%E5%87%BA%E7%89%B9%E5%AE%9A%E5%8C%BA%E5%9F%9F%EF%BC%9F" class="docs-header-link">
          <span header-link="q:-%E5%A6%82%E4%BD%95%E5%AF%BC%E5%87%BA%E7%89%B9%E5%AE%9A%E5%8C%BA%E5%9F%9F%EF%BC%9F"></span>
          Q: 如何导出特定区域？
        </h3>
      <div class="dg-paragraph"><strong>A:</strong> 目前不支持导出特定区域，但可以通过 CSS 隐藏不需要的部分，然后导出。</div>

        <h3 id="q:-%E5%AF%BC%E5%87%BA%E6%80%A7%E8%83%BD%E9%97%AE%E9%A2%98%EF%BC%9F" class="docs-header-link">
          <span header-link="q:-%E5%AF%BC%E5%87%BA%E6%80%A7%E8%83%BD%E9%97%AE%E9%A2%98%EF%BC%9F"></span>
          Q: 导出性能问题？
        </h3>
      <div class="dg-paragraph"><strong>A:</strong></div>
<ol>
<li>对于大型甘特图，导出可能需要较长时间</li>
<li>考虑在导出前隐藏不必要的元素</li>
<li>使用 <code>ignoreElementClass</code> 忽略不需要的元素</li>
</ol>
