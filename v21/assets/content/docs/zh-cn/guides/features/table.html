<p>ngx-gantt 内置提供表格的展示功能，支持自定义内容、行拖拽、列调整、点击选择等丰富的交互功能。</p>

        <h2 id="%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%E8%A1%A8%E6%A0%BC%EF%BC%9F" class="docs-header-link">
          <span header-link="%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%E8%A1%A8%E6%A0%BC%EF%BC%9F"></span>
          如何使用表格？
        </h2>
      <p>表格功能通过两个核心组件实现：</p>
<ul>
<li><code>ngx-gantt-table</code>：表格容器组件，用于包裹表格列定义和配置表格行为</li>
<li><code>ngx-gantt-column</code>：表格列组件，用于定义每一列的显示内容和属性</li>
</ul>
<pre class="language-html"><code class="language-html"><div><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ngx-gantt</span> <span class="token attr-name">#gantt</span> <span class="token attr-name">[items]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>items<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ngx-gantt-table</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ngx-gantt-column</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>任务名称<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>200px<span class="token punctuation">"</span></span> <span class="token attr-name">[showExpandIcon]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ng-template</span> <span class="token attr-name">#cell</span> <span class="token attr-name">let-item</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>item<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> {{ item.title }} <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ng-template</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ngx-gantt-column</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ngx-gantt-column</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>开始时间<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>150px<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ng-template</span> <span class="token attr-name">#cell</span> <span class="token attr-name">let-item</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>item<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> {{ item.start | date: 'yyyy-MM-dd' }} <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ng-template</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ngx-gantt-column</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ngx-gantt-table</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ngx-gantt</span><span class="token punctuation">></span></span></div></code></pre>

        <h2 id="%E8%87%AA%E5%AE%9A%E4%B9%89%E5%B1%95%E7%A4%BA%E6%A8%A1%E6%9D%BF" class="docs-header-link">
          <span header-link="%E8%87%AA%E5%AE%9A%E4%B9%89%E5%B1%95%E7%A4%BA%E6%A8%A1%E6%9D%BF"></span>
          自定义展示模板
        </h2>
      
        <h3 id="%E5%88%97%E5%86%85%E5%AE%B9%E6%A8%A1%E6%9D%BF" class="docs-header-link">
          <span header-link="%E5%88%97%E5%86%85%E5%AE%B9%E6%A8%A1%E6%9D%BF"></span>
          列内容模板
        </h3>
      <p>使用 <code>#cell</code> 模板自定义每列的单元格内容：</p>
<pre class="language-html"><code class="language-html"><div><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ngx-gantt-column</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>任务名称<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>200px<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ng-template</span> <span class="token attr-name">#cell</span> <span class="token attr-name">let-item</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>item<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> {{ item.title }} <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ng-template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ngx-gantt-column</span><span class="token punctuation">></span></span></div></code></pre>

        <h3 id="%E8%A1%8C%E5%89%8D%E7%BD%AE/%E5%90%8E%E7%BD%AE%E6%8F%92%E6%A7%BD" class="docs-header-link">
          <span header-link="%E8%A1%8C%E5%89%8D%E7%BD%AE/%E5%90%8E%E7%BD%AE%E6%8F%92%E6%A7%BD"></span>
          行前置/后置插槽
        </h3>
      <p>使用 <code>#rowBeforeSlot</code> 和 <code>#rowAfterSlot</code> 在每行的前后添加自定义内容：</p>
<pre class="language-html"><code class="language-html"><div><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ngx-gantt-table</span><span class="token punctuation">></span></span>
  <span class="token comment" spellcheck="true">&lt;!-- 行前置内容 --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ng-template</span> <span class="token attr-name">#rowBeforeSlot</span> <span class="token attr-name">let-item</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>item<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>row-before<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>前置内容<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ng-template</span><span class="token punctuation">></span></span>

  <span class="token comment" spellcheck="true">&lt;!-- 列定义 --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ngx-gantt-column</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>任务<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>200px<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token comment" spellcheck="true">&lt;!-- ... --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ngx-gantt-column</span><span class="token punctuation">></span></span>

  <span class="token comment" spellcheck="true">&lt;!-- 行后置内容 --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ng-template</span> <span class="token attr-name">#rowAfterSlot</span> <span class="token attr-name">let-item</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>item<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>row-after<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>后置内容<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ng-template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ngx-gantt-table</span><span class="token punctuation">></span></span></div></code></pre>

        <h3 id="%E7%A9%BA%E7%8A%B6%E6%80%81%E6%A8%A1%E6%9D%BF" class="docs-header-link">
          <span header-link="%E7%A9%BA%E7%8A%B6%E6%80%81%E6%A8%A1%E6%9D%BF"></span>
          空状态模板
        </h3>
      <p>使用 <code>#tableEmpty</code> 自定义表格为空时的显示内容：</p>
<pre class="language-html"><code class="language-html"><div><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ngx-gantt-table</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ng-template</span> <span class="token attr-name">#tableEmpty</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>empty-state<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>暂无任务<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ng-template</span><span class="token punctuation">></span></span>

  <span class="token comment" spellcheck="true">&lt;!-- ... --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ngx-gantt-table</span><span class="token punctuation">></span></span></div></code></pre>

        <h3 id="%E5%BA%95%E9%83%A8%E6%A8%A1%E6%9D%BF" class="docs-header-link">
          <span header-link="%E5%BA%95%E9%83%A8%E6%A8%A1%E6%9D%BF"></span>
          底部模板
        </h3>
      <p>使用 <code>#tableFooter</code> 自定义表格底部内容：</p>
<pre class="language-html"><code class="language-html"><div><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ngx-gantt-table</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ng-template</span> <span class="token attr-name">#tableFooter</span> <span class="token attr-name">let-columns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>columns<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>table-footer<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      @for (column of columns; track $index) {
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>gantt-table-column<span class="token punctuation">"</span></span> <span class="token attr-name">[style.width]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>column.columnWidth()<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>{{ column.name() }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
      }
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ng-template</span><span class="token punctuation">></span></span>

  <span class="token comment" spellcheck="true">&lt;!-- ... --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ngx-gantt-table</span><span class="token punctuation">></span></span></div></code></pre>

        <h2 id="%E8%A1%A8%E6%A0%BC%E4%BA%A4%E4%BA%92" class="docs-header-link">
          <span header-link="%E8%A1%A8%E6%A0%BC%E4%BA%A4%E4%BA%92"></span>
          表格交互
        </h2>
      
        <h3 id="%E8%A1%8C%E6%8B%96%E6%8B%BD%E6%8E%92%E5%BA%8F" class="docs-header-link">
          <span header-link="%E8%A1%8C%E6%8B%96%E6%8B%BD%E6%8E%92%E5%BA%8F"></span>
          行拖拽排序
        </h3>
      
        <h4 id="%E5%90%AF%E7%94%A8%E6%8B%96%E6%8B%BD" class="docs-header-link">
          <span header-link="%E5%90%AF%E7%94%A8%E6%8B%96%E6%8B%BD"></span>
          启用拖拽
        </h4>
      <p>通过 <code>ngx-gantt-table</code> 的 <code>draggable</code> 参数启用拖拽</p>
<pre class="language-typescript"><code class="language-typescript"><div>@<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  template<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`
    &lt;ngx-gantt [items]="items">
      &lt;ngx-gantt-table
        [draggable]="true"
        (dragStarted)="onDragStarted($event)"
        (dragDropped)="onDragDropped($event)"
        (dragEnded)="onDragEnded($event)"
      >
        &lt;!-- ... -->
      &lt;/ngx-gantt-table>
    &lt;/ngx-gantt>
  `</span></span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">MyComponent</span> <span class="token punctuation">{</span>
  items<span class="token punctuation">:</span> GanttItem<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token string">'1'</span><span class="token punctuation">,</span> title<span class="token punctuation">:</span> <span class="token string">'任务 1'</span><span class="token punctuation">,</span> start<span class="token punctuation">:</span> <span class="token number">1627729997</span><span class="token punctuation">,</span> end<span class="token punctuation">:</span> <span class="token number">1628421197</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token string">'2'</span><span class="token punctuation">,</span> title<span class="token punctuation">:</span> <span class="token string">'任务 2'</span><span class="token punctuation">,</span> start<span class="token punctuation">:</span> <span class="token number">1628507597</span><span class="token punctuation">,</span> end<span class="token punctuation">:</span> <span class="token number">1633345997</span> <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token function">onDragStarted</span><span class="token punctuation">(</span>event<span class="token punctuation">:</span> GanttTableDragStartedEvent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'拖拽开始'</span><span class="token punctuation">,</span> event<span class="token punctuation">.</span>source<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">onDragDropped</span><span class="token punctuation">(</span>event<span class="token punctuation">:</span> GanttTableDragDroppedEvent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// 处理拖拽放置</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleDragDrop</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">onDragEnded</span><span class="token punctuation">(</span>event<span class="token punctuation">:</span> GanttTableDragEndedEvent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'拖拽结束'</span><span class="token punctuation">,</span> event<span class="token punctuation">.</span>source<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></div></code></pre>

        <h4 id="%E6%8B%96%E6%8B%BD%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86" class="docs-header-link">
          <span header-link="%E6%8B%96%E6%8B%BD%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86"></span>
          拖拽事件处理
        </h4>
      <pre class="language-typescript"><code class="language-typescript"><div><span class="token function">onDragDropped</span><span class="token punctuation">(</span>event<span class="token punctuation">:</span> GanttTableDragDroppedEvent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> source<span class="token punctuation">,</span> target<span class="token punctuation">,</span> dropPosition<span class="token punctuation">,</span> sourceParent<span class="token punctuation">,</span> targetParent <span class="token punctuation">}</span> <span class="token operator">=</span> event<span class="token punctuation">;</span>

  <span class="token comment" spellcheck="true">// 从源位置移除</span>
  <span class="token keyword">const</span> sourceItems <span class="token operator">=</span> sourceParent<span class="token operator">?</span><span class="token punctuation">.</span>children <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">;</span>
  <span class="token keyword">const</span> sourceIndex <span class="token operator">=</span> sourceItems<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">;</span>
  sourceItems<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>sourceIndex<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment" spellcheck="true">// 根据放置位置插入</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>dropPosition <span class="token operator">===</span> <span class="token string">'inside'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// 作为子任务</span>
    target<span class="token punctuation">.</span>children <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span>children <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> source<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// 作为同级任务</span>
    <span class="token keyword">const</span> targetItems <span class="token operator">=</span> targetParent<span class="token operator">?</span><span class="token punctuation">.</span>children <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">;</span>
    <span class="token keyword">const</span> targetIndex <span class="token operator">=</span> targetItems<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>dropPosition <span class="token operator">===</span> <span class="token string">'before'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      targetItems<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>targetIndex<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> source<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      targetItems<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>targetIndex <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> source<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token comment" spellcheck="true">// 不可变更新</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>items <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></div></code></pre>
<p>表格行支持拖拽来调整任务的层级关系和顺序。拖拽任务行到目标位置时，有三种放置位置：</p>
<ul>
<li><code>before</code>：放置在目标任务之前（同级）</li>
<li><code>inside</code>：放置在目标任务内部（结合 Tree 模式使用，支持子任务展示时）</li>
<li><code>after</code>：放置在目标任务之后（同级）</li>
</ul>

        <h4 id="dropenterpredicate-%E5%8A%A8%E4%BD%9C%E6%8B%A6%E6%88%AA" class="docs-header-link">
          <span header-link="dropenterpredicate-%E5%8A%A8%E4%BD%9C%E6%8B%A6%E6%88%AA"></span>
          dropEnterPredicate 动作拦截
        </h4>
      <p>使用 <code>dropEnterPredicate</code> 可以控制哪些拖拽操作被允许：</p>
<pre class="language-typescript"><code class="language-typescript"><div>@<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  template<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`
    &lt;ngx-gantt-table [draggable]="true" [dropEnterPredicate]="canDrop">
      &lt;!-- ... -->
    &lt;/ngx-gantt-table>
  `</span></span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">MyComponent</span> <span class="token punctuation">{</span>
  canDrop <span class="token operator">=</span> <span class="token punctuation">(</span>context<span class="token punctuation">:</span> GanttTableDragEnterPredicateContext<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// 禁止将任务拖入自己</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>context<span class="token punctuation">.</span>source<span class="token punctuation">.</span>id <span class="token operator">===</span> context<span class="token punctuation">.</span>target<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">// 禁止将父任务拖入子任务</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">isDescendant</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span>target<span class="token punctuation">,</span> context<span class="token punctuation">.</span>source<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">// 只允许 before 和 after，不允许 inside</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>context<span class="token punctuation">.</span>dropPosition <span class="token operator">===</span> <span class="token string">'inside'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token keyword">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">private</span> <span class="token function">isDescendant</span><span class="token punctuation">(</span>ancestor<span class="token punctuation">:</span> GanttItem<span class="token punctuation">,</span> descendant<span class="token punctuation">:</span> GanttItem<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">boolean</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// 检查 descendant 是否是 ancestor 的后代</span>
    <span class="token comment" spellcheck="true">// 实现逻辑...</span>
    <span class="token keyword">return</span> <span class="token keyword">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></div></code></pre>

        <h3 id="%E5%88%97%E6%8B%96%E6%8B%BD%E6%94%B9%E5%8F%98%E5%AE%BD%E5%BA%A6" class="docs-header-link">
          <span header-link="%E5%88%97%E6%8B%96%E6%8B%BD%E6%94%B9%E5%8F%98%E5%AE%BD%E5%BA%A6"></span>
          列拖拽改变宽度
        </h3>
      <p>表格的每列和表格整体都可以拖拽改变宽度，表格整体宽度改变会触发 <code>resizeChange</code> 事件。</p>
<pre class="language-typescript"><code class="language-typescript"><div>@<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  template<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`
    &lt;ngx-gantt-table (resizeChange)="resizeChange($event)">
      &lt;!-- ... -->
    &lt;/ngx-gantt-table>
  `</span></span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">MyComponent</span> <span class="token punctuation">{</span>
  <span class="token function">resizeChange</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token keyword">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'改变了宽度'</span><span class="token punctuation">,</span> width<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></div></code></pre>

        <h3 id="%E8%A1%8C%E7%82%B9%E5%87%BB%E4%B8%8E%E9%80%89%E6%8B%A9" class="docs-header-link">
          <span header-link="%E8%A1%8C%E7%82%B9%E5%87%BB%E4%B8%8E%E9%80%89%E6%8B%A9"></span>
          行点击与选择
        </h3>
      
        <h4 id="%E8%A1%8C%E7%82%B9%E5%87%BB%E4%BA%8B%E4%BB%B6" class="docs-header-link">
          <span header-link="%E8%A1%8C%E7%82%B9%E5%87%BB%E4%BA%8B%E4%BB%B6"></span>
          行点击事件
        </h4>
      <pre class="language-typescript"><code class="language-typescript"><div>@<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  template<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`
    &lt;ngx-gantt-table (itemClick)="onItemClick($event)">
      &lt;!-- ... -->
    &lt;/ngx-gantt-table>
  `</span></span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">MyComponent</span> <span class="token punctuation">{</span>
  <span class="token function">onItemClick</span><span class="token punctuation">(</span>event<span class="token punctuation">:</span> GanttTableItemClickEvent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'点击了任务'</span><span class="token punctuation">,</span> event<span class="token punctuation">.</span>current<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// 显示任务详情</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">showTaskDetail</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>current<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></div></code></pre>

        <h4 id="%E9%80%89%E6%8B%A9%E5%8A%9F%E8%83%BD" class="docs-header-link">
          <span header-link="%E9%80%89%E6%8B%A9%E5%8A%9F%E8%83%BD"></span>
          选择功能
        </h4>
      <p>启用选择功能后，点击行会触发选择：</p>
<pre class="language-html"><code class="language-html"><div><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ngx-gantt</span> <span class="token attr-name">[items]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>items<span class="token punctuation">"</span></span> <span class="token attr-name">[selectable]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name">[multiple]</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span> <span class="token attr-name">(selectedChange)</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>onSelectedChange($event)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token comment" spellcheck="true">&lt;!-- ... --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ngx-gantt</span><span class="token punctuation">></span></span></div></code></pre>

        <h2 id="%E6%9C%80%E5%B0%8F%E7%A4%BA%E4%BE%8B" class="docs-header-link">
          <span header-link="%E6%9C%80%E5%B0%8F%E7%A4%BA%E4%BE%8B"></span>
          最小示例
        </h2>
      <pre class="language-typescript"><code class="language-typescript"><div><span class="token keyword">import</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> GanttItem<span class="token punctuation">,</span> GanttViewType<span class="token punctuation">,</span> GanttTableDragDroppedEvent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@worktile/gantt'</span><span class="token punctuation">;</span>

@<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  selector<span class="token punctuation">:</span> <span class="token string">'app-gantt-table'</span><span class="token punctuation">,</span>
  template<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`
    &lt;ngx-gantt [items]="items" [viewType]="viewType">
      &lt;ngx-gantt-table [draggable]="true" (dragDropped)="onDragDropped($event)">
        &lt;ngx-gantt-column name="任务" width="200px">
          &lt;ng-template #cell let-item="item">
            {{ item.title }}
          &lt;/ng-template>
        &lt;/ngx-gantt-column>
      &lt;/ngx-gantt-table>
    &lt;/ngx-gantt>
  `</span></span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">GanttTableComponent</span> <span class="token punctuation">{</span>
  viewType <span class="token operator">=</span> GanttViewType<span class="token punctuation">.</span>day<span class="token punctuation">;</span>

  items<span class="token punctuation">:</span> GanttItem<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token string">'1'</span><span class="token punctuation">,</span> title<span class="token punctuation">:</span> <span class="token string">'任务 1'</span><span class="token punctuation">,</span> start<span class="token punctuation">:</span> <span class="token number">1627729997</span><span class="token punctuation">,</span> end<span class="token punctuation">:</span> <span class="token number">1628421197</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token string">'2'</span><span class="token punctuation">,</span> title<span class="token punctuation">:</span> <span class="token string">'任务 2'</span><span class="token punctuation">,</span> start<span class="token punctuation">:</span> <span class="token number">1628507597</span><span class="token punctuation">,</span> end<span class="token punctuation">:</span> <span class="token number">1633345997</span> <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token function">onDragDropped</span><span class="token punctuation">(</span>event<span class="token punctuation">:</span> GanttTableDragDroppedEvent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// 处理拖拽逻辑</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">reorganizeItems</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// 不可变更新</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>items <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">private</span> <span class="token function">reorganizeItems</span><span class="token punctuation">(</span>event<span class="token punctuation">:</span> GanttTableDragDroppedEvent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// 实现拖拽后的数据重组逻辑</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></div></code></pre>

        <h2 id="%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98" class="docs-header-link">
          <span header-link="%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98"></span>
          常见问题
        </h2>
      
        <h3 id="q:-%E5%A6%82%E4%BD%95%E7%A6%81%E7%94%A8%E7%89%B9%E5%AE%9A%E4%BB%BB%E5%8A%A1%E7%9A%84%E6%8B%96%E6%8B%BD%EF%BC%9F" class="docs-header-link">
          <span header-link="q:-%E5%A6%82%E4%BD%95%E7%A6%81%E7%94%A8%E7%89%B9%E5%AE%9A%E4%BB%BB%E5%8A%A1%E7%9A%84%E6%8B%96%E6%8B%BD%EF%BC%9F"></span>
          Q: 如何禁用特定任务的拖拽？
        </h3>
      <div class="dg-paragraph"><strong>A:</strong> 设置任务的 <code>itemDraggable: false</code>：</div>
<pre class="language-typescript"><code class="language-typescript"><div><span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token string">'1'</span><span class="token punctuation">,</span> title<span class="token punctuation">:</span> <span class="token string">'任务'</span><span class="token punctuation">,</span> itemDraggable<span class="token punctuation">:</span> <span class="token keyword">false</span> <span class="token punctuation">}</span></div></code></pre>

        <h3 id="q:-%E5%A6%82%E4%BD%95%E9%99%90%E5%88%B6%E6%8B%96%E6%8B%BD%E8%8C%83%E5%9B%B4%EF%BC%9F" class="docs-header-link">
          <span header-link="q:-%E5%A6%82%E4%BD%95%E9%99%90%E5%88%B6%E6%8B%96%E6%8B%BD%E8%8C%83%E5%9B%B4%EF%BC%9F"></span>
          Q: 如何限制拖拽范围？
        </h3>
      <div class="dg-paragraph"><strong>A:</strong> 使用 <code>dropEnterPredicate</code> 函数：</div>
<pre class="language-typescript"><code class="language-typescript"><div><span class="token keyword">import</span> <span class="token punctuation">{</span> GanttTableDragEnterPredicateContext <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@worktile/gantt'</span><span class="token punctuation">;</span>

canDrop <span class="token operator">=</span> <span class="token punctuation">(</span>context<span class="token punctuation">:</span> GanttTableDragEnterPredicateContext<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// 基于其他业务属性判断</span>
  <span class="token keyword">return</span> context<span class="token punctuation">.</span>target<span class="token punctuation">.</span>origin<span class="token operator">?</span><span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token string">'active'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></div></code></pre>

        <h3 id="q:-%E6%8B%96%E6%8B%BD%E5%90%8E%E6%95%B0%E6%8D%AE%E6%B2%A1%E6%9C%89%E6%9B%B4%E6%96%B0%EF%BC%9F" class="docs-header-link">
          <span header-link="q:-%E6%8B%96%E6%8B%BD%E5%90%8E%E6%95%B0%E6%8D%AE%E6%B2%A1%E6%9C%89%E6%9B%B4%E6%96%B0%EF%BC%9F"></span>
          Q: 拖拽后数据没有更新？
        </h3>
      <div class="dg-paragraph"><strong>A:</strong> 确保使用不可变数据更新，创建新数组。</div>

        <h2 id="%E7%9B%B8%E5%85%B3%E9%93%BE%E6%8E%A5" class="docs-header-link">
          <span header-link="%E7%9B%B8%E5%85%B3%E9%93%BE%E6%8E%A5"></span>
          相关链接
        </h2>
      <ul>
<li><a href="guides/core-concepts/data-model">数据模型</a> - 了解数据结构</li>
<li><a href="guides/features/bar-interaction">Bar 显示与交互</a> - 了解任务条交互</li>
<li><a href="guides/features/tree">Tree 模式</a> - 了解层级结构</li>
</ul>
