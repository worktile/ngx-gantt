<p>如果你只想依赖 ngx-gantt 的视图能力，希望基于 ngx-gantt 视图自定义自己的布局与渲染逻辑，可以使用 <code>ngx-gantt-root</code> 组件实现布局的完全自定义。</p>

        <h2 id="%E2%9A%A0%EF%B8%8F-%E9%87%8D%E8%A6%81%E6%8F%90%E7%A4%BA" class="docs-header-link">
          <span header-link="%E2%9A%A0%EF%B8%8F-%E9%87%8D%E8%A6%81%E6%8F%90%E7%A4%BA"></span>
          ⚠️ 重要提示
        </h2>
      <div class="dg-paragraph"><strong>自定义布局实现需要非常深入的了解甘特图的内部实现，对使用者要求较高。</strong></div>
<p>在使用 <code>ngx-gantt-root</code> 之前，请确保：</p>
<ul>
<li>✅ 已充分理解甘特图的核心概念和数据结构</li>
<li>✅ 已了解视图系统、任务条定位等内部机制</li>
<li>✅ 已阅读源码，熟悉 <code>GanttUpper</code> 类提供的属性和方法</li>
</ul>

        <h2 id="%E4%BB%80%E4%B9%88%E6%97%B6%E5%80%99%E9%9C%80%E8%A6%81%E8%87%AA%E5%AE%9A%E4%B9%89%E5%B8%83%E5%B1%80%EF%BC%9F" class="docs-header-link">
          <span header-link="%E4%BB%80%E4%B9%88%E6%97%B6%E5%80%99%E9%9C%80%E8%A6%81%E8%87%AA%E5%AE%9A%E4%B9%89%E5%B8%83%E5%B1%80%EF%BC%9F"></span>
          什么时候需要自定义布局？
        </h2>
      <div class="dg-paragraph"><code>ngx-gantt-root</code> 适用于以下场景：</div>
<ul>
<li><strong>想使用甘特图的视图展示能力</strong>（时间刻度、视图计算等）</li>
<li><strong>需要完全自定义左侧区域</strong>（不是表格，可能是列表、卡片等任意内容）</li>
<li><strong>需要完全自定义主区域</strong>（任务条的展示逻辑完全自定义）</li>
<li><strong>Bar 的展示逻辑完全自定义</strong>（可以使用内置的 <code>&lt;ngx-gantt-bar&gt;</code> 组件，也可以完全自己实现）</li>
</ul>

        <h2 id="ngx-gantt-root-%E7%BB%84%E4%BB%B6" class="docs-header-link">
          <span header-link="ngx-gantt-root-%E7%BB%84%E4%BB%B6"></span>
          ngx-gantt-root 组件
        </h2>
      <div class="dg-paragraph"><code>ngx-gantt-root</code> 提供了完全自定义布局的能力。它是 <code>ngx-gantt</code> 组件内部使用的底层组件。</div>

        <h3 id="%E7%BB%84%E4%BB%B6%E5%B1%9E%E6%80%A7" class="docs-header-link">
          <span header-link="%E7%BB%84%E4%BB%B6%E5%B1%9E%E6%80%A7"></span>
          组件属性
        </h3>
      <pre class="language-typescript"><code class="language-typescript"><div><span class="token keyword">interface</span> <span class="token class-name">NgxGanttRootComponent</span> <span class="token punctuation">{</span>
  sideWidth<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token keyword">number</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 左侧区域宽度（像素），可选</span>
  sideTemplate<span class="token operator">?</span><span class="token punctuation">:</span> TemplateRef<span class="token operator">&lt;</span><span class="token keyword">any</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 左侧区域模板引用</span>
  mainTemplate<span class="token operator">?</span><span class="token punctuation">:</span> TemplateRef<span class="token operator">&lt;</span><span class="token keyword">any</span><span class="token operator">></span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 右侧区域模板引用</span>
<span class="token punctuation">}</span></div></code></pre>

        <h3 id="%E6%A8%A1%E6%9D%BF%E7%BB%93%E6%9E%84" class="docs-header-link">
          <span header-link="%E6%A8%A1%E6%9D%BF%E7%BB%93%E6%9E%84"></span>
          模板结构
        </h3>
      <div class="dg-paragraph"><code>ngx-gantt-root</code> 通过两个模板来定义布局：</div>
<ul>
<li><strong>sideTemplate</strong>：左侧区域模板，完全自定义左侧内容</li>
<li><strong>mainTemplate</strong>：右侧区域模板，完全自定义右侧内容（包括任务条展示）</li>
</ul>

        <h3 id="%E6%9C%80%E5%B0%8F%E7%A4%BA%E4%BE%8B" class="docs-header-link">
          <span header-link="%E6%9C%80%E5%B0%8F%E7%A4%BA%E4%BE%8B"></span>
          最小示例
        </h3>
      <p>以下示例展示了 <code>ngx-gantt-root</code> 的基本使用结构：</p>
<pre class="language-typescript"><code class="language-typescript"><div><span class="token keyword">import</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> OnInit <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@angular/core'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> GANTT_UPPER_TOKEN<span class="token punctuation">,</span> GanttUpper<span class="token punctuation">,</span> NgxGanttRootComponent<span class="token punctuation">,</span> NgxGanttBarComponent<span class="token punctuation">,</span> GanttItemInternal <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@worktile/gantt'</span><span class="token punctuation">;</span>

@<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  selector<span class="token punctuation">:</span> <span class="token string">'app-custom-gantt'</span><span class="token punctuation">,</span>
  template<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`
    &lt;ngx-gantt-root [sideWidth]="300">
      &lt;ng-template #sideTemplate>
        &lt;!-- 自定义左侧区域 -->
        &lt;div class="custom-side">
          @for (item of customItems; track item.id) {
            &lt;div>{{ item.title }}&lt;/div>
          }
        &lt;/div>
      &lt;/ng-template>

      &lt;ng-template #mainTemplate>
        &lt;!-- 自定义右侧区域 -->
        &lt;div class="gantt-main" [style.width.px]="view.width">
          @for (item of customItems; track item.id) {
            &lt;ngx-gantt-bar [item]="item">&lt;/ngx-gantt-bar>
          }
        &lt;/div>
      &lt;/ng-template>
    &lt;/ngx-gantt-root>
  `</span></span><span class="token punctuation">,</span>
  providers<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      provide<span class="token punctuation">:</span> GANTT_UPPER_TOKEN<span class="token punctuation">,</span>
      useExisting<span class="token punctuation">:</span> AppCustomGanttComponent
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  imports<span class="token punctuation">:</span> <span class="token punctuation">[</span>NgxGanttRootComponent<span class="token punctuation">,</span> NgxGanttBarComponent<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AppCustomGanttComponent</span> <span class="token keyword">extends</span> <span class="token class-name">GanttUpper</span> <span class="token keyword">implements</span> <span class="token class-name">OnInit</span> <span class="token punctuation">{</span>
  customItems<span class="token punctuation">:</span> GanttItemInternal<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  override <span class="token function">ngOnInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">ngOnInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">buildItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">private</span> <span class="token function">buildItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// 自定义数据处理逻辑</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></div></code></pre>

        <h2 id="%E5%AE%9E%E7%8E%B0%E8%A6%81%E7%82%B9" class="docs-header-link">
          <span header-link="%E5%AE%9E%E7%8E%B0%E8%A6%81%E7%82%B9"></span>
          实现要点
        </h2>
      <p>使用 <code>ngx-gantt-root</code> 实现自定义布局时，需要：</p>
<ol>
<li><strong>理解数据结构</strong>：了解 <code>GanttItem</code>、<code>GanttItemInternal</code>、<code>GanttGroup</code> 等数据结构</li>
<li><strong>理解视图系统</strong>：了解视图如何计算时间范围和宽度</li>
<li><strong>理解任务条定位</strong>：了解如何根据任务的开始和结束时间计算任务条的位置和宽度</li>
<li><strong>处理交互逻辑</strong>：需要自己实现拖拽、点击等交互逻辑（如果使用内置组件则自动支持）</li>
</ol>

        <h3 id="%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81" class="docs-header-link">
          <span header-link="%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81"></span>
          示例代码
        </h3>
      <ul>
<li><a target="_blank" href="https://github.com/worktile/ngx-gantt/tree/master/example/src/app/gantt-advanced">example 示例</a> - 查看完整示例代码</li>
</ul>
