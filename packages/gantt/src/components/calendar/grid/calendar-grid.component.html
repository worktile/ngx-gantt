<div class="gantt-calendar-today-overlay" [style.width.px]="view.width">
  @if (ganttUpper.showTodayLine()) {
    <span class="today-line"> </span>
  }
</div>
<svg class="gantt-calendar-grid-fill" [attr.width]="view.width" [attr.height]="1">
  <g>
    @for (tick of view.unitTicks; track tick.x) {
      @if (tick.fill) {
        <rect [attr.x]="$index * view.unitWidth" y="0" [attr.width]="view.unitWidth" [attr.height]="mainHeight" [attr.fill]="tick.fill" />
      }
    }
  </g>
</svg>

<svg class="gantt-calendar-grid-main" [attr.width]="view.width" [attr.height]="ganttUpper.styles().headerHeight - 1">
  <g>
    @if (view.showNowIndicator) {
      <g>
        @for (tick of view.unitTicks; track tick.x) {
          <line
            [attr.x1]="($index + 1) * view.unitWidth"
            [attr.x2]="($index + 1) * view.unitWidth"
            [attr.y1]="0"
            [attr.y2]="mainHeight"
            class="secondary-line"
          ></line>
        }
      </g>
    }
    <g>
      @for (tick of view.periodTicks; track tick?.x) {
        @let rightX = tick?.rightX ?? ($index + 1) * view.periodWidth;
        <line [attr.x1]="rightX" [attr.x2]="rightX" [attr.y1]="0" [attr.y2]="mainHeight" class="primary-line"></line>
      }
    </g>
  </g>
</svg>
