<div class="gantt-calendar-today-overlay" [style.width.px]="view.width">
  <span class="today-rect" [hidden]="ganttUpper.viewType() !== viewTypes.day"> </span>
</div>
<svg [attr.width]="view.width" [attr.height]="ganttUpper.styles().headerHeight">
  <g>
    @for (tick of view.unitTicks; track tick.rect.x) {
      @if (tick.rect.background) {
        <rect
          [attr.x]="tick.rect.x"
          y="0"
          [attr.width]="tick.rect.width"
          [attr.height]="ganttUpper.styles().headerHeight"
          [attr.fill]="tick.rect.background"
        />
      }
      <text
        class="secondary-text"
        [ngStyle]="{
          fill: tick.label.style?.color,
          fontSize: tick.label.style?.fontSize,
          fontWeight: tick.label.style?.fontWeight
        }"
        [class.today]="tick.metadata?.isToday"
        [class.weekend]="tick.metadata?.isWeekend"
        [attr.x]="tick.label.x"
        [attr.y]="tick.label.y"
      >
        {{ tick.label.text }}
      </text>
    }

    @for (tick of view.periodTicks; track tick.rect.x) {
      <text
        class="primary-text"
        [ngStyle]="tick.label.style"
        [class.today]="tick.metadata?.isToday"
        [class.weekend]="tick.metadata?.isWeekend"
        [attr.x]="tick.label.x"
        [attr.y]="tick.label.y"
      >
        {{ tick.label.text }}
      </text>
    }

    <g>
      @for (tick of view.periodTicks; track tick.rect.x) {
        @let rightX = tick.rect.x + tick.rect.width;
        <line [attr.x1]="rightX" [attr.x2]="rightX" [attr.y1]="0" [attr.y2]="ganttUpper.styles().headerHeight" class="primary-line"></line>
      }
    </g>

    <g>
      <line
        [attr.x1]="0"
        [attr.x2]="view.width"
        [attr.y1]="ganttUpper.styles().headerHeight"
        [attr.y2]="ganttUpper.styles().headerHeight"
        class="header-line"
      ></line>
    </g>
  </g>
</svg>
