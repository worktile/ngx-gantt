<div
  #headerContainer
  class="gantt-table-header-container"
  [ngClass]="{ 'gantt-table-header-container-scroll': fixedTableWidth }"
  [style.width.px]="fixedTableWidth ? fixedTableWidth : null"
  cdkScrollable
>
  @for (column of columns; track $index) {
    <div class="gantt-table-column" [style.minWidth]="column.columnWidth" [style.maxWidth]="column.columnWidth">
      @if (column.headerTemplateRef) {
        <ng-container [ngTemplateOutlet]="column.headerTemplateRef"> </ng-container>
      } @else {
        {{ column.name }}
      }
      <div
        class="column-resize-handle"
        cdkDrag
        cdkDragLockAxis="x"
        cdkDragBoundary=".gantt"
        (cdkDragMoved)="onResizeMoved($event, column)"
        (cdkDragStarted)="onResizeStarted($event)"
        (cdkDragEnded)="onResizeEnded($event, column)"
      ></div>
    </div>
  }
  @if (gantt?.table?.columnSettingTemplate) {
    <div class="gantt-table-column-setting">
      <ng-template [ngTemplateOutlet]="gantt?.table?.columnSettingTemplate"></ng-template>
    </div>
  }
</div>

<div
  class="table-resize-handle"
  cdkDrag
  cdkDragLockAxis="x"
  cdkDragBoundary=".gantt"
  (cdkDragMoved)="onResizeMoved($event)"
  (cdkDragStarted)="onResizeStarted($event)"
  (cdkDragEnded)="onOverallResizeEnded($event)"
></div>

<div #resizeLine class="table-resize-auxiliary-line"></div>
